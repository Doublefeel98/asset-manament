<div bsModal #createOrEditModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <form #editForm="ngForm" novalidate (ngSubmit)="save()">
                <div class="modal-header">
                    <h4 class="modal-title">
                        <span *ngIf="repairInput.id">Cập nhật sửa chữa: {{repairInput.id}}</span>
                        <span *ngIf="!repairInput.id">Tạo mới sửa chữa</span>
                    </h4>
                    <button type="button" class="close" (click)="close()" [attr.aria-label]="l('Close')">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!-- Begin content -->
                <div class="modal-body">
                    <!-- Begin general -->
                    <div style="border:1px solid blue;border-radius:5px;padding:10px">
                        <div class="form-group">
                            <label>Mã tài sản *</label>
                            <select *ngIf="!repairInput.id" #nameInput="ngModel" required [(ngModel)]='repairInput.assetID'
                                class='form-control' name="AssetID" (change)="getAssetByID($event.target.value)">
                                <option *ngFor="let item of listAssetsNotLiquidated" [value]="item.assetId">
                                    {{item.assetId}} - {{item.assetName}}
                                </option>
                            </select>
                            <input *ngIf="repairInput.id" readonly name="AssetID" [value]="asset.assetName"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Loại tài sản *</label>
                            <input readonly name="assetType" [value]="assetType" class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Nhóm tài sản *</label>
                            <input readonly name="assetGroupName" [value]="assetGroup.assetGroupName" class="form-control"
                                type="text">
                        </div>
                        <div class="form-group">
                            <label>Thông tin mô tả *</label>
                            <input readonly name="describe" [value]="asset.describe" class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Ngày bắt đầu khấu hao *</label>
                            <input readonly name="DateAdded" [value]="asset.dateAdded" class="form-control"
                                type="text">
                        </div>
                        <div class="form-group">
                            <label>Số tháng khấu hao *</label>
                            <input readonly name="monthOfDepreciation" [value]="asset.monthOfDepreciation"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Ngày kết thúc khấu hao *</label>
                            <input readonly class="form-control" [value]="dateEndDepreciation" type="text">
                        </div>
                        <div class="form-group">
                            <label>Nguyên giá tài sản *</label>
                            <input readonly name="originalPrice" [value]="asset.originalPrice" class="form-control"
                                type="text">
                        </div>
                        <div class="form-group">
                            <label>Giá trị khấu hao *</label>
                            <input readonly name="depreciationValue" [value]="asset.depreciationValue"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Giá trị khấu hao còn lại *</label>
                            <input readonly class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Đơn vị sử dụng *</label>
                            <input readonly class="form-control" [value]="" type="text">
                        </div>
                        <div class="form-group">
                            <label>Người sử dụng *</label>
                            <input readonly class="form-control" type="text">
                        </div>
                    </div>
                    <!-- End general -->
                    <!-- Start propose -->
                    <div style="border:1px solid blue;border-radius: 5px;padding:2px">
                        <label>Đề xuất sửa chữa</label>
                        <div class="form-group">
                            <label>Ngày xuất *</label>
                            <input #nameInput="ngModel" readonly class="form-control" type="text" name="RepairDate"
                            [(ngModel)]="repairInput.exportDate" required maxlength="64">                        
                        </div>
                        <div class="form-group">
                            <label>Ngày dự kiến sửa xong *</label>
                            <input #nameInput="ngModel" class="form-control" type="date" name="ExpectedDateRepaired"
                            [(ngModel)]="repairInput.expectedDateRepaired" required maxlength="64">                       
                        </div>
                        <div class="form-group">
                            <label>Đơn vị sửa chữa dự kiến *</label>
                            <select #nameInput="ngModel" required [(ngModel)]="repairInput.expectedRepairUnit"
                                class='form-control' name="ExpectedRepairUnit">
                                <option value='0'>Đơn vị sửa chữa 1</option>
                                <option value='1'>Đơn vị sửa chữa 2</option>
                                <option value='2'>Đơn vị sửa chữa 3</option>
                                <option value='3'>Đơn vị sửa chữa 4</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Chi phí dự kiến *</label>
                            <input #addressInput="ngModel" class="form-control" type="number" name="ExpectedCost"
                                [(ngModel)]="repairInput.expectedCost" maxlength="64" required>
                        </div>
                        <div class="form-group">
                            <label>Người đề xuất *</label>
                            <select *ngIf="!repairInput.id" #nameInput="ngModel" required [(ngModel)]='repairInput.proposer'
                                class='form-control' name="Proposer" (change)="getUserUnit($event.target.value)">
                                <option *ngFor="let item of listUsers" [value]="item.id">
                                    {{item.surname}} {{item.name}}
                                </option>
                            </select>
                            <input *ngIf="repairInput.id" readonly name="proposer" [value]="repairInput.proposer"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Đơn vị đề xuất *</label>
                            <input readonly name="proposerUnit" [value]="proposerUnit"
                                class="form-control" type="text">
                        </div>                
                        <div class="form-group">
                            <label>Nhân viên phụ trách *</label>
                            <select *ngIf="!repairInput.id" #nameInput="ngModel" required [(ngModel)]='repairInput.staffInCharge'
                                class='form-control' name="StaffInCharge">
                                <option *ngFor="let item of listUsers" [value]="item.id">
                                    {{item.surname}} {{item.name}}
                                </option>
                            </select>
                            <input *ngIf="repairInput.id" readonly name="StaffInCharge" [value]="repairInput.staffInCharge"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Nội dung sửa chữa dự kiến*</label>
                            <textarea #addressInput="ngModel" class="form-control" name="ExpectedContent"
                                [(ngModel)]="repairInput.expectedContent" required>
                            </textarea>
                        </div>
                        <div class="form-group">
                            <label>Ghi chú dự kiến</label>
                            <textarea #addressInput="ngModel" class="form-control" name="ExpectedNote"
                                [(ngModel)]="repairInput.expectedNote">
                            </textarea>
                        </div>
                    </div>
                    <!-- End propose -->
                    <!-- Start reality -->
                    <!-- <div *ngIf="repairInput.id && repairInput.statusapproved" style="border:1px solid blue;border-radius: 5px;padding:2px">
                        <label>Thông tin sửa chữa thực tế</label>
                        <div class="form-group">
                            <label>Ngày xuất *</label>
                            <input #nameInput="ngModel" readonly class="form-control" type="text" name="RepairDate"
                            [(ngModel)]="repairInput.exportDate" required maxlength="64">                        
                        </div>
                        <div class="form-group">
                            <label>Ngày dự kiến sửa xong *</label>
                            <input #nameInput="ngModel" class="form-control" type="date" name="ExpectedDateRepaired"
                            [(ngModel)]="repairInput.expectedDateRepaired" required maxlength="64">                       
                        </div>
                        <div class="form-group">
                            <label>Đơn vị sửa chữa dự kiến *</label>
                            <input #addressInput="ngModel" class="form-control" type="text" name="RepairUnit"
                                [(ngModel)]="repairInput.repairUnit" required maxlength="64">
                        </div>
                        <div class="form-group">
                            <label>Chi phí dự kiến *</label>
                            <input #addressInput="ngModel" class="form-control" type="number" name="ExpectedCost"
                                [(ngModel)]="repairInput.expectedCost" maxlength="64">
                        </div>
                        <div class="form-group">
                            <label>Người đề xuất *</label>
                            <select *ngIf="!repairInput.id" #nameInput="ngModel" required [(ngModel)]='repairInput.proposer'
                                class='form-control' name="Proposer" (change)="getUsers($event.target.value)">
                                <option *ngFor="let item of listUsers" [value]="item.id">
                                    {{item.surname}} {{item.name}}
                                </option>
                            </select>
                            <input *ngIf="repairInput.id" readonly name="AssetID" [value]="asset.assetName"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Đơn vị đề xuất *</label>
                            <input #addressInput="ngModel" class="form-control" type="text" name="proposerUnit"
                                [(ngModel)]="repairInput.expectedCost" required maxlength="64">
                        </div>                
                        <div class="form-group">
                            <label>Nhân viên phụ trách *</label>
                            <select *ngIf="!repairInput.id" #nameInput="ngModel" required [(ngModel)]='repairInput.proposer'
                                class='form-control' name="Proposer" (change)="getUsers($event.target.value)">
                                <option *ngFor="let item of listUsers" [value]="item.id">
                                    {{item.surname}} {{item.name}}
                                </option>
                            </select>
                            <input *ngIf="repairInput.id" readonly name="StaffInCharge" [value]="asset.StaffInCharge"
                                class="form-control" type="text">
                        </div>
                        <div class="form-group">
                            <label>Nội dung sửa chữa *</label>
                            <textarea #addressInput="ngModel" class="form-control" name="Content"
                                [(ngModel)]="repairInput.content" required>
                            </textarea>
                        </div>
                        <div class="form-group">
                            <label>Ghi chú *</label>
                            <textarea #addressInput="ngModel" class="form-control" name="Note"
                                [(ngModel)]="repairInput.note">
                            </textarea>
                        </div>
                    </div> -->
                    <!-- End reality -->
                </div>
                <!-- End content -->
                <div class="modal-footer">
                    <button [disabled]="saving" type="button" class="btn btn-default"
                        (click)="close()">{{l("Cancel")}}</button>
                    <button type="submit" class="btn btn-primary" [buttonBusy]="saving"
                        [busyText]="l('SavingWithThreeDot')"><i class="fa fa-save"></i>
                        <span>{{l("Save")}}</span></button>
                </div>
            </form>
        </div>
    </div>
</div>